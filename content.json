{"meta":{"title":"Jim Huangçš„åšå®¢","subtitle":null,"description":null,"author":"Jim Huang","url":"https://github.com/sunsx9316"},"pages":[],"posts":[{"title":"APPåˆ‡æ¢ä¸»é¢˜çš„ä¸€äº›æ€è€ƒ","slug":"APPåˆ‡æ¢ä¸»é¢˜çš„ä¸€äº›æ€è€ƒ","date":"2018-08-26T07:14:17.000Z","updated":"2018-09-07T16:51:47.159Z","comments":true,"path":"2018/08/26/APPåˆ‡æ¢ä¸»é¢˜çš„ä¸€äº›æ€è€ƒ/","link":"","permalink":"https://github.com/sunsx9316/2018/08/26/APPåˆ‡æ¢ä¸»é¢˜çš„ä¸€äº›æ€è€ƒ/","excerpt":"","text":"å‰è¨€APPå†…åˆ‡æ¢ä¸»é¢˜æ˜¯æ¯”è¾ƒå¸¸è§çš„éœ€è¦ï¼Œè›®æ—©å°±æ€è€ƒè¿‡è¿™ä¸ªé—®é¢˜ã€‚ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šçš„è§£å†³æ–¹æ¡ˆï¼Œä¸è¿‡æœ¬è´¨ä¸Šå…¶å®éƒ½ç±»ä¼¼ï¼Œæ— éæ˜¯ä¸¤ç§æƒ…å†µã€‚ å¦‚æœéœ€è¦å®ç°ç±»ä¼¼æ‰‹Qé‚£æ ·åŠ¨æ€æ›´æ¢ä¸»é¢˜ï¼Œé‚£ä¹ˆä¸»é¢˜ä¸€å®šæ˜¯ä¸ªé…ç½®æ–‡ä»¶ï¼Œèƒ½å¤Ÿä»æœåŠ¡å™¨ä¸‹è½½ã€‚ å¦‚æœåªè¦æ±‚èƒ½æ›´æ¢æˆæœ¬åœ°çš„å‡ å¥—ä¸»é¢˜ï¼Œé‚£åªé€šè¿‡ä»£ç åˆå§‹åŒ–ï¼Œå†™æ­»ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ è¯´è¯´ä¸¤è€…çš„ä¼˜ç¼ºç‚¹ã€‚ ç¬¬ä¸€ç§æ¯”è¾ƒçµæ´»ï¼Œä½†æ˜¯å¼•å…¥çš„é…ç½®æ–‡ä»¶è‚¯å®šè¦æ±‚æ ¼å¼çš„é€šç”¨ï¼Œæ¯•ç«Ÿä¸å¤ªå¯èƒ½è¦æ±‚æœåŠ¡ç«¯é’ˆå¯¹ä¸åŒçš„è®¾å¤‡æä¾›ä¸åŒçš„é…ç½®ã€‚é‚£ä¹ˆå¾ˆå¤šäººæˆ–è®¸ä¼šé€‰æ‹©JSONæˆ–è€…XMLä¹‹ç±»çš„æ ¼å¼ã€‚è¿™æ ·å°±ä¼šå¯¼è‡´å¯è¯»æ€§ä¸é‚£ä¹ˆå¥½ï¼Œä¹Ÿä¸å¤ªç›´è§‚ï¼Œè€Œä¸”ä¹Ÿæ²¡åŠæ³•åœ¨ç¼–è¯‘æœŸå°±åšä»£ç æ£€æŸ¥ã€‚ ç¬¬äºŒç§å¯¹æ¯”ç¬¬ä¸€ç§å°±æ›´ç›´è§‚ï¼Œæ²¡æœ‰ä»€ä¹ˆèƒ½æ¯” label.textColor = redColor è¿™æ ·çš„ä»£ç æ›´æ˜“è¯»äº†å§ã€‚åŒæ—¶å› ä¸ºæ˜¯åŸç”Ÿå¼€å‘ï¼Œä¹Ÿå¯ä»¥åœ¨ç¼–è¯‘æœŸå°±åšåˆ°ä»£ç æ£€æŸ¥ï¼Œç¼ºç‚¹å°±æ˜¯çµæ´»æ€§å·®äº†äº›ã€‚ æ‰€ä»¥è¦åšçš„å…¶å®æ˜¯é€‰æ‹©é€‚åˆè‡ªå·±çš„ç±»å‹ï¼Œè¿˜æœ‰å¦‚ä½•èƒ½æ›´ç®€å•çš„åšåˆ°åˆ‡æ¢è€Œå·²ã€‚è¿™ä¸ªè½®å­å…¶å®å¹¶ä¸å¤ªé€‚åˆé¡¹ç›®ï¼Œæ›´å¤šæ˜¯ä½œä¸ºæ€è€ƒã€‚å…¬å¸é¡¹ç›®å¹¶ä¸è¦æ±‚åšåˆ°ç±»ä¼¼æ‰‹Qé‚£æ ·åŠ¨æ€åˆ‡æ¢ä¸»é¢˜ï¼Œä½†æ˜¯ä¸ºäº†æ‹“å±•æ€§ï¼Œæˆ‘è¿˜æ˜¯è€ƒè™‘é€šè¿‡é…ç½®æ–‡ä»¶å»åŠ è½½ã€‚ ç›®çš„å› ä¸ºå†™ä¸»é¢˜é…ç½®æ˜¯ååˆ†éº»çƒ¦çš„äº‹ï¼Œæˆ‘æƒ³è¦åšåˆ°çš„æ•ˆæœæ˜¯åªå†™é…ç½®æ–‡ä»¶ï¼Œä»£ç é‡Œä¸éœ€è¦å†™ä»»ä½•åˆ¤æ–­å’Œè®¾ç½®çš„é€»è¾‘å°±èƒ½åšåˆ°è‡ªåŠ¨æ ¹æ®å½“å‰ä¸»é¢˜åˆ‡æ¢æ ·å¼ã€‚æ‰€ä»¥è¦åšçš„äº‹åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š ä¹¦å†™é…ç½® ç¨‹åºè¯»å–é…ç½® ä»£ç æ ¹æ®å½“å‰ä¸»é¢˜è‡ªåŠ¨è®¾ç½®æ ·å¼ åŒæ—¶é…ç½®æ–‡ä»¶è¦æ±‚å¯è¯»æ€§è‰¯å¥½ï¼Œå°±ç®—åˆ«äººæ¥æ‰‹äº†è¿™ä¸ªæ¨¡å—ä¹Ÿä¸éœ€è¦ç†Ÿæ‚‰ç‰¹å®šçš„é…ç½®ä¹¦å†™è¯­æ³•ã€‚ å®ç°é…ç½®æ–‡ä»¶å› ä¸ºæ˜¯æœ¬åœ°ä½¿ç”¨ï¼Œé‚£ä¹ˆå¯ä»¥ä¸è€ƒè™‘é€šç”¨æ€§ï¼Œä¸ºäº†å¼€å‘ç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨Plistå†™é…ç½®ã€‚ä¸ºäº†å¯è¯»æ€§è‰¯å¥½ï¼Œä¸”å°½é‡ä¸å¢åŠ å­¦ä¹ æˆæœ¬ï¼Œæˆ‘æƒ³åšåˆ°æœ€å¥½å†™åœ¨é…ç½®é‡Œçš„å°±æ˜¯ç±»ä¼¼ label.textColor = redColor è¿™æ ·çš„èµ‹å€¼è¯­å¥ã€‚é‚£èƒ½ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Œå½“ç„¶å¯ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©OCçš„KVCã€‚KVCæœ¬èº«ä¹Ÿæ”¯æŒkeyPathè¿™æ ·çš„èµ‹å€¼æ–¹å¼ï¼Œ&quot;label.textColor&quot; è¿™æ ·çš„å­—ç¬¦ä¸²åœ¨KVCä¸­ä¼šè¢«è§£ææˆæŸ¥æ‰¾ label ä¸‹çš„ textColor å±æ€§ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨ Plist \bé‡Œçš„ keyå°±å¯ä»¥å®šä¹‰æˆ &quot;label.textColor&quot;ï¼Œè€Œ valueå°±æ˜¯é¢œè‰²ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒPlist åªæ”¯æŒå­—ç¬¦ä¸²ã€æ•°å­—ã€æ—¥æœŸã€äºŒè¿›åˆ¶æµè¿™å‡ ç§æœ‰é™çš„æ ¼å¼ï¼Œé‚£æ€ä¹ˆè®©å®ƒæ”¯æŒé¢œè‰²å‘¢ï¼Ÿå¾ˆå®¹æ˜“è”æƒ³åˆ°é¢œè‰²16è¿›åˆ¶çš„è¡¨ç¤ºæ–¹å¼ï¼Œæ¯”å¦‚ç™½è‰²ä½¿ç”¨16è¿›åˆ¶è¡¨ç¤ºå°±æ˜¯ #FFFFFFï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²ä¸å°±å¥½äº†ã€‚ä½†æ˜¯é—®é¢˜æ²¡è¿™ä¹ˆç®€å•ã€‚ ä¸€ç§æ¯”è¾ƒå¸¸è§çš„éœ€æ±‚æ˜¯åœ¨ä¸åŒçš„ä¸»é¢˜ä¸‹éœ€è¦æ˜¾ç¤ºä¸åŒå›¾ç‰‡ (æ¯”å¦‚æˆ‘ä»¬å°±æœ‰ç™½å¤©å’Œé»‘å¤œæ¨¡å¼ï¼Œé»‘å¤œæ¨¡å¼çš„å›¾ç‰‡å°±è¦æ±‚æš—ä¸€äº›ã€‚å°å£°bbâ€¦â€¦)ï¼Œé¢œè‰²å¦‚æœä½¿ç”¨äº† #FFFFFF è¿™æ ·çš„æ–¹å¼è®¾ç½®ï¼Œé‚£ä¹ˆå›¾ç‰‡æ€ä¹ˆåŠï¼Ÿå›¾ç‰‡å¯ä»¥æ ¹æ®å›¾ç‰‡åï¼Œä½†æ˜¯ç¨‹åºéœ€è¦çŸ¥é“è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆæ‰èƒ½æŠŠå®ƒè½¬æˆå¯¹åº”çš„ä¸œè¥¿ï¼Œæ‰€ä»¥å°±éœ€è¦å®šä¸€å¥—ç®€å•çš„è§„åˆ™äº†ã€‚ å­—ç¬¦ä¸²éå¸¸çµæ´»ï¼Œä»»æ„çš„ç»„åˆå¯ä»¥å¾—åˆ°å®Œå…¨ä¸åŒçš„å†…å®¹ï¼Œæ‰€ä»¥å¯¹äºè¿™ç§æƒ…å†µï¼Œé€‰æ‹©å­—ç¬¦ä¸²ç±»å‹æ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚ç±»ä¼¼ç¼–è¯‘å™¨ï¼Œæœ‰ä¸€å¥—è‡ªå·±çš„å¤æ‚çš„è§£æè§„åˆ™ï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºè¯­æ³•æ ‘ã€‚æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆå¤æ‚ï¼Œåªæ˜¯ç®€å•çš„æ ¼å¼å°±å¥½ï¼Œä½†æ˜¯å¯ä»¥è®¾è®¡æˆæ‹¥æœ‰å¾ˆå¼ºæ‹“å±•æ€§çš„æ¨¡å¼ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€äº›é€šç”¨çš„æ¥å£ï¼Œç”Ÿæˆä¸€äº›è§£æå™¨ï¼Œè¿™ä¼šåœ¨ç¬¬äºŒæ­¥è¯¦ç»†è¯´æ˜ã€‚ è¯»å–é…ç½®è¿™ä¸€æ­¥æ¯”è¾ƒé‡è¦çš„æ˜¯æ¥å£çš„è®¾è®¡ï¼Œå…³ä¹åˆ°ä½¿ç”¨çš„æ–¹ä¾¿æ€§å’Œæœªæ¥çš„æ‹“å±•æ€§ã€‚ æˆ‘ä»¬æ¥ç€è¯´ç¬¬ä¸€æ­¥æœ«å°¾è¯´åˆ°çš„è§£æå™¨ã€‚ä¸ºä»€ä¹ˆè¦å®šä¹‰è§£æå™¨å‘¢ï¼Ÿé¦–å…ˆæ¯ä¸€ä¸ª Plistçš„å¯¹è±¡ï¼Œå€¼ä¼ è¿‡æ¥éƒ½æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬è¦æ ¹æ®é‡Œé¢å­—ç¬¦ä¸²çš„æ ¼å¼åˆ¤æ–­å®ƒæ˜¯åº”è¯¥è§£ææˆé¢œè‰²ï¼Œæˆ–è€…å›¾ç‰‡åˆæˆ–è€…æ˜¯å…¶å®ƒã€‚æ¯ç§æƒ…å†µéƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ‹†åˆ†æˆç‹¬ç«‹çš„è§£æå™¨ä¼šæ›´å¥½ã€‚ä¸è¿‡ä»–ä»¬éƒ½ç”¨ä¸€ä¸ªå…±åŒç‚¹ï¼Œéµå®ˆåŒä¸€ä¸ªåè®®ã€‚åè®®æˆ‘ä»¬è¿™æ ·å®šä¹‰ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** è§£æä¼˜å…ˆçº§ - JHThemeParserPriorityRequest: æœ€å…ˆè§£æ - JHThemeParserPriorityNormal: æ™®é€š - JHThemeParserPriorityUnimportance: æœ€åè§£æ */typedef NS_ENUM(NSUInteger, JHThemeParserPriority) &#123; JHThemeParserPriorityUnimportance, JHThemeParserPriorityNormal, JHThemeParserPriorityRequest = 1000,&#125;;@class JHTheme;@protocol JHThemeParserProtocol &lt;NSObject&gt;/** è§£æä¼˜å…ˆçº§ */@property (nonatomic, assign, readonly) JHThemeParserPriority priority;/** å”¯ä¸€æ ‡è¯† */@property (nonatomic, copy, readonly) NSString *identify;/** æ˜¯å¦åœ¨è§£æä¹‹åç›´æ¥è¿”å› YESä¼šå°†è§£æç»“æœè®©ä¹‹åçš„è§£æå™¨ç»§ç»­è§£æ */@property (nonatomic, assign, readonly) BOOL continueParse;/** æ˜¯å¦èƒ½è§£æè¿™ä¸ªå€¼ @param value å€¼ @return æ˜¯å¦èƒ½è§£æè¿™ä¸ªå€¼ */- (BOOL)canParseValue:(id)value;/** è§£æå…·ä½“å®ç° @param value å€¼ @param currentTheme å½“å‰ä¸»é¢˜ @return è§£æç»“æœ */- (id)converValue:(id)value currentTheme:(JHTheme *)currentTheme;@end é‡è¦çš„æ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•ï¼š12- (BOOL)canParseValue:(id)value;- (id)converValue:(id)value currentTheme:(JHTheme *)currentTheme; ç¬¬ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­è¿™ä¸ªè§£æå™¨èƒ½å¦è§£æè¿™ä¸ªå­—ç¬¦ä¸²ã€‚ å¦‚æœè¿”å› true ï¼Œ é‚£ä¹ˆä¼šæ¥ç€è°ƒç”¨converValue:(id)value currentTheme:(JHTheme *)currentThemeï¼Œè®©è§£æå™¨è‡ªå·±å†…éƒ¨è¿›è¡Œè§£æã€‚ å¦‚æœè¿”å› falseï¼Œé‚£ä¹ˆè¿™ä¸ªè§£æå™¨å°±æ— æ³•è§£æè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ä¼šæœ‰ä¹‹åçš„è°ƒç”¨äº†ã€‚ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œè¿™æ˜¯é¢œè‰²è§£æå™¨å†…éƒ¨çš„å®ç°ï¼š123456789101112131415161718192021222324252627282930@implementation JHThemeColorParser- (BOOL)canParseValue:(NSString *)value &#123; if ([value isKindOfClass:[NSString class]] &amp;&amp; ([value hasPrefix:@&quot;c(&quot;] || [value hasPrefix:@&quot;C(&quot;]) &amp;&amp; [value hasSuffix:@&quot;)&quot;]) &#123; return YES; &#125; return NO;&#125;- (id)converValue:(NSString *)value currentTheme:(JHTheme *)currentTheme &#123; //å–å‡ºè‰²å€¼ value = [value substringWithRange:NSMakeRange(2, value.length - 3)]; NSArray &lt;NSString *&gt;*rgba = [value componentsSeparatedByString:@&quot;,&quot;]; //16è¿›åˆ¶ if (rgba.count == 1) &#123; return [UIColor colorWithHexString:value]; &#125; else if (rgba.count &gt;= 3) &#123; CGFloat r = 0,g = 0,b = 0,a = 1; r = rgba.firstObject.doubleValue / 255.0; g = rgba[1].doubleValue / 255.0; b = rgba[2].doubleValue / 255.0; if (rgba.count &gt;= 4) &#123; a = rgba[3].doubleValue; &#125; return [UIColor colorWithRed:r green:g blue:b alpha:a]; &#125; return value;&#125;@end é¦–å…ˆ - (BOOL)canParseValue:(id)value è¿™ä¸ªæ–¹æ³•çš„å®ç°æ˜¯åˆ¤æ–­å€¼æ˜¯å¦ç¬¦åˆè§„åˆ™ï¼Œè¿™é‡Œæˆ‘å®šä¹‰æˆç¬¦åˆ c(#FFFFF) æˆ–è€… c(255,255,255) æ ¼å¼çš„å­—ç¬¦ä¸²å°±å¯ä»¥è§£æã€‚å‰è€…æ˜¯é¢œè‰²çš„16è¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œåè€…æ˜¯é€šè¿‡æŒ‡å®šRGBæ•°å­—çš„é¢œè‰²è¡¨ç¤ºæ³•ã€‚è€Œä¸‹é¢åªæ˜¯å¯¹è¿™ä¸ªè§£ææ ¼å¼çš„å®ç°è€Œå·²ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¦‚æœæƒ³å®šä¹‰ä¸€å¥—æ¯”è¾ƒå¤æ‚çš„è§£æè§„åˆ™ï¼Œåªè¦å®ç°åè®®ï¼Œè‡ªå·±å†™è§£æé€»è¾‘å°±å¥½äº†ã€‚æ¯”å¦‚é™¤äº†é¢œè‰²çš„ï¼Œæˆ‘è¿˜å®ç°äº†ä¸€äº›ç±»ä¼¼å®çš„è§£æé€»è¾‘ã€‚åƒè¿™æ ·ï¼š 123456789101112131415161718192021222324- (BOOL)canParseValue:(NSString *)value &#123; if ([value isKindOfClass:[NSString class]] &amp;&amp; ([value hasPrefix:@&quot;d(&quot;] || [value hasPrefix:@&quot;D(&quot;]) &amp;&amp; [value hasSuffix:@&quot;)&quot;]) &#123; return YES; &#125; return NO;&#125;- (id)converValue:(NSString *)value currentTheme:(JHTheme *)currentTheme &#123; NSString *tempStr = [[value substringWithRange:NSMakeRange(2, value.length - 3)] stringByTrim]; NSDictionary *mapDic = currentTheme.defineMap; id map = mapDic[tempStr]; if (map) &#123; return map; &#125; return value;&#125;- (BOOL)continueParse &#123; return YES;&#125;- (JHThemeParserPriority)priority &#123; return JHThemeParserPriorityRequest;&#125; åœºæ™¯æ˜¯APPæœ‰ä¸€ä¸ªä¸»é¢˜è‰²ï¼Œå¦‚æœæŒ‰ç…§ä¸Šé¢åªæ˜¯é€šè¿‡æŒ‡å®šé¢œè‰²å»å†™ï¼Œé‚£å°±ä¼šå¾ˆéº»çƒ¦ï¼Œè€Œä¸”ä¸€æ—¦ä¸»é¢˜è‰²æ›´æ¢ï¼Œä¹Ÿè¦å…¨å±€ä¿®æ”¹ã€‚è¿™ä¸ªå®è§£æå™¨å°±å®šä¹‰äº†ä¸€ç§å­—ç¬¦ä¸²æ ¼å¼åƒè¿™æ · d(mainColor)ã€‚é…ç½®æ–‡ä»¶æœ‰ä¸€ä¸ªç‹¬ç«‹çš„â€å®å­—å…¸â€ï¼Œè§£æå™¨å–å‡º mainColor ç„¶ååœ¨â€å®å­—å…¸â€é‡ŒæŸ¥æ‰¾ mainColorå¯¹åº”çš„ valueæ˜¯ä»€ä¹ˆï¼Œè¿™ä¸ª value æˆ‘åªè¦å®šä¹‰æˆc(#FFFFF) æˆ–è€…å…¶å®ƒè§£æå™¨å¯ä»¥è§£æçš„æ ¼å¼ï¼Œå°±å¯ä»¥åšåˆ°ç±»ä¼¼å®å®šä¹‰çš„æ›¿æ¢æ•ˆæœã€‚éœ€è¦æ³¨æ„çš„æ˜¯ - (BOOL)continueParse éœ€è¦è¿”å› YESï¼Œè¿™æ ·è§£æçš„ç»“æœæ‰èƒ½è¿”å›ç»™å…¶å®ƒçš„è§£æå™¨ç»§ç»­è§£æã€‚ æ‰€ä»¥å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·æ˜¯éå¸¸çµæ´»çš„ã€‚ è‡ªåŠ¨è®¾ç½®æ ·å¼è¿™ä¸€æ­¥å…¶å®ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå®¹æ˜“äº†ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸å°‘å€¼å¾—è¯´çš„åœ°æ–¹ã€‚æˆ‘è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªå« themeManager çš„ä¸»é¢˜ç®¡ç†ç±»ã€‚æ¥å£è¿™æ ·è®¾è®¡ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980/** è‡ªå®šä¹‰æ“ä½œblock @param aObj æ›´æ”¹çš„å¯¹è±¡ @param key é”® @param value å€¼ @return è‡ªå®šä¹‰æ›´æ”¹çš„å¯¹è±¡ */typedef id(^JHThemeCustomAction)(id aObj, NSString *key, id value);@class JHThemeManager;@protocol JHThemeManagerObserver&lt;NSObject&gt;@optional//ä¸»é¢˜æ”¹å˜å›è°ƒ- (void)themeManager:(JHThemeManager *)themeManager didChangeTheme:(JHTheme *)theme;@end@interface JHThemeManager : NSObject+ (instancetype)shareThemeManager;@property (nonatomic, strong, readonly) JHTheme *currentTheme;/** æ³¨å†Œè‡ªå®šä¹‰è§£æå™¨ @param parserClass è§£æå™¨éœ€è¦å®ç° JHThemeParserProtocolæ¥å£ */- (void)registerParser:(Class)parserClass;/** æ·»åŠ å•ä¸ªä¸»é¢˜ @param theme ä¸»é¢˜å¯¹è±¡ */- (void)addTheme:(JHTheme *)theme;/** æ·»åŠ å¤šä¸ªä¸»é¢˜ @param themes ä¸»é¢˜æ•°ç»„ */- (void)addThemes:(NSArray &lt;JHTheme *&gt;*)themes;/** æ ¹æ®ä¸»é¢˜åç§°æ›´æ”¹å½“å‰ä¸»é¢˜ @param themeName ä¸»é¢˜åç§° */- (void)updateThemeByName:(NSString *)themeName;/** æ ¹æ®å½“å‰ä¸»é¢˜æ›´æ–°å¯¹è±¡çš„æ ·å¼ @param obj å¯¹è±¡ @param themeKey ä¸»é¢˜ä¸‹çš„Key ç©ºåˆ™ä¸ºobjçš„ç±»å @param block è‡ªå®šä¹‰æ“ä½œ */- (void)updateObjStyleWithCurrentTheme:(id)obj themeKey:(NSString *)themeKey block:(JHThemeCustomAction)block;/** æ ¹æ®å½“å‰ä¸»é¢˜æ›´æ–°å¯¹è±¡çš„æ ·å¼ @param obj å¯¹è±¡ @param themeKey ä¸»é¢˜ä¸‹çš„Key ç©ºåˆ™ä¸ºobjçš„ç±»å @param themeName ä¸»é¢˜åç§° @param block è‡ªå®šä¹‰æ“ä½œ */- (void)updateObjStyleWithCurrentTheme:(id)obj themeKey:(NSString *)themeKey themeName:(NSString *)themeName block:(JHThemeCustomAction)block;- (void)addObserver:(id&lt;JHThemeManagerObserver&gt;)observer;- (void)removeObserver:(id&lt;JHThemeManagerObserver&gt;)observer;@end - (void)registerParser:(Class)parserClass æ³¨å†Œçš„æ˜¯éµå®ˆäº†è§£æå™¨åè®®çš„ç±»ï¼Œåªæœ‰æ³¨å†Œäº†æ‰æ”¯æŒè§£æè¿™ç§ç±»å‹çš„å­—ç¬¦ä¸²ã€‚å†…éƒ¨å®ç°æ˜¯é€šè¿‡æ•°ç»„ä¿å­˜ç¤ºä¾‹ï¼Œè§£æçš„æ—¶å€™æ ¹æ®ä¼˜å…ˆçº§å¾ªç¯è°ƒç”¨å·²ç»æ³¨å†Œçš„è§£æå™¨è¿›è¡Œè§£æã€‚ ç„¶åé‡ç‚¹æ˜¯è‡ªåŠ¨ã€‚å› ä¸ºæˆ‘ä»¬çš„ key æ˜¯ keyPathçš„å½¢å¼ï¼Œæ‰€ä»¥ç›´æ¥é€šè¿‡KVCæŠŠè§£æç»“æœèµ‹å€¼å°±è¡Œã€‚ å®ç°å¦‚ä¸‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208- (void)updateObjStyleWithCurrentTheme:(id)toObj themeKey:(NSString *)themeKey themeName:(NSString *)themeName block:(JHThemeCustomAction)block &#123; if (toObj == nil) return; if (themeKey.length == 0) &#123; themeKey = NSStringFromClass([toObj class]); &#125; JHTheme *aTheme = nil; if (themeName.length == 0) &#123; aTheme = self.currentTheme; &#125; else &#123; aTheme = [self themeByName:themeName]; &#125; //è·å–å½“å‰ä¸»é¢˜æ‰€æœ‰å­˜å‚¨çš„å†…å®¹ NSDictionary *content = aTheme.content[themeKey]; if ([content isKindOfClass:[NSDictionary class]] == NO) return; [content enumerateKeysAndObjectsUsingBlock:^(NSString * _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) &#123; //è‡ªå®šä¹‰ä¿®æ”¹ if (block) &#123; obj = block(toObj, key, [self converValueWithObj:obj]); if (obj == nil) return; &#125; NSString *cacheKey = [themeKey stringByAppendingFormat:@&quot;.%@&quot;, key]; NSNumber *cache = [self.keyPathCache objectForKey:cacheKey]; //æ²¡æœ‰ç¼“å­˜è¿‡ if (cache == nil) &#123; NSArray &lt;NSString *&gt;*keyPaths = [key componentsSeparatedByString:@&quot;.&quot;]; id lastObj = toObj; //å•ä¸ªkey if (keyPaths.count == 1) &#123; //å½“å‰keyä¸å­˜åœ¨ BOOL exist = [lastObj respondsToSelector:NSSelectorFromString(keyPaths.firstObject)]; NSAssert(exist, @&quot;%@ä¸å­˜åœ¨ è®¾ç½®ä¸»é¢˜å¤±è´¥&quot;, key); if (exist == false) &#123; cache = @(NO); [self.keyPathCache setObject:cache forKey:cacheKey]; return; &#125; else &#123; cache = @(YES); [self.keyPathCache setObject:cache forKey:cacheKey]; &#125; &#125; //keyPath else &#123; BOOL flag = YES; for (NSInteger i = 0; i &lt; keyPaths.count - 1; ++i) &#123; NSString *key = keyPaths[i]; SEL selector = NSSelectorFromString(key); if ([lastObj respondsToSelector:selector]) &#123; lastObj = [lastObj valueForKey:key]; &#125; else &#123; flag = NO; break; &#125; &#125; if (flag) &#123; flag = [lastObj respondsToSelector:NSSelectorFromString(keyPaths.lastObject)]; &#125; cache = @(flag); [self.keyPathCache setObject:cache forKey:cacheKey]; if (flag == NO) &#123; NSLog(@&quot;%@ä¸å­˜åœ¨ è®¾ç½®ä¸»é¢˜å¤±è´¥&quot;, key); return; &#125; &#125; &#125; //keyæ— æ•ˆ if (cache.boolValue == NO) return; //å¤šå‚æ•° if ([key containsString:@&quot;:&quot;]) &#123; NSArray *separatedValues = [key componentsSeparatedByString:@&quot;.&quot;]; NSString *method = separatedValues.lastObject; SEL aSEL = NSSelectorFromString(method); //çœŸæ­£å‘æ¶ˆæ¯çš„å¯¹è±¡ id sendObj = [toObj valueForKeyPath:[key stringByReplacingOccurrencesOfString:[NSString stringWithFormat:@&quot;.%@&quot;, method] withString:@&quot;&quot;]]; NSArray *valueArr = [obj isKindOfClass:[NSArray class]] ? obj : @[obj]; YYClassMethodInfo *info = [[YYClassMethodInfo alloc] initWithMethod:class_getInstanceMethod([sendObj class], aSEL)]; //å†’å·ä¹‹åçš„å‚æ•°ä¸ºå®é™…å‚æ•° NSArray &lt;NSString *&gt;*argumentTypeEncodings = ^&#123; NSInteger index = [info.argumentTypeEncodings indexOfObject:@&quot;:&quot;]; if (index != NSNotFound) &#123; return (NSArray *)[info.argumentTypeEncodings subarrayWithRange:NSMakeRange(index + 1, info.argumentTypeEncodings.count - index - 1)]; &#125; return @[]; &#125;(); //å‚æ•°ä¸ªæ•°å’Œkeyçš„æ–¹æ³•ä¸ä¸€è‡´ if (argumentTypeEncodings.count != valueArr.count) &#123; return; &#125; NSMethodSignature *sign = [sendObj methodSignatureForSelector:aSEL]; NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:sign]; invocation.target = sendObj; invocation.selector = aSEL; for (NSInteger idx1 = 0; idx1 &lt; argumentTypeEncodings.count; ++idx1) &#123; id obj1 = valueArr[idx1]; id tempObj = [self converValueWithObj:obj1]; YYEncodingType encodingType = YYEncodingGetType(argumentTypeEncodings[idx1].UTF8String); switch (encodingType) &#123; case YYEncodingTypeBool: &#123; BOOL aValue = [tempObj boolValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeInt8: &#123; char aValue = [tempObj charValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeUInt8: &#123; unsigned char aValue = [tempObj unsignedCharValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeInt16: &#123; short aValue = [tempObj shortValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeUInt16: &#123; unsigned short aValue = [tempObj unsignedShortValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeInt32: &#123; int32_t aValue = [tempObj intValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeUInt32: &#123; uint32_t aValue = [tempObj intValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeInt64: &#123; long long aValue = [tempObj longLongValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeUInt64: &#123; unsigned long long aValue = [tempObj unsignedLongLongValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeFloat: &#123; float aValue = [tempObj floatValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeDouble: &#123; double aValue = [tempObj doubleValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeLongDouble: &#123; long double aValue = [tempObj doubleValue]; [invocation setArgument:&amp;aValue atIndex:idx1 + 2]; &#125; break; case YYEncodingTypeObject: &#123; [invocation setArgument:&amp;tempObj atIndex:idx1 + 2]; &#125; break; default: break; &#125; &#125; //è°ƒç”¨ [invocation invoke]; &#125; else &#123; [toObj setValue:[self converValueWithObj:obj] forKeyPath:key]; &#125; &#125;];&#125; è¿™ä¹ˆé•¿ä¸€æ®µä»£ç ï¼Œæˆ‘éƒ½ä¸æƒ³çœ‹ğŸ˜‘ï¼Œå¹¸å¥½è¿˜è®°å¾—æ€ä¹ˆå®ç°çš„ã€‚æŒ‰ç…§ä¸Šé¢æˆ‘ä»¬è¯´çš„ï¼Œåº”è¯¥éå¸¸ç®€å•æ‰å¯¹ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜è¦å¤„ç†ä¸€äº›å…¶ä»–æƒ…å†µã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒUIButton åœ¨è®¾ç½®å›¾ç‰‡ã€æ–‡å­—é¢œè‰²ç­‰å±æ€§çš„æ—¶å€™éœ€è¦å¸¦ä¸Š UIControlStateï¼Œé‚£å°±éœ€è¦ä¼ ä¸¤ä¸ªå‚æ•°ã€‚Plistå¯ä»¥æŠŠè¿™ç§å¤šå‚æ•°ä¿å­˜ä¸ºæ•°ç»„ï¼Œä½†æ˜¯KVCå°±æ²¡åŠæ³•åšåˆ°èµ‹å€¼äº†ï¼Œè¿™æ—¶å€™å°±è¦å€ŸåŠ©åˆ°OCçš„è¿è¡Œæ—¶äº†ã€‚ æˆ‘ä»¬çŸ¥é“ï¼ŒOC\bçš„æ–¹æ³•è°ƒç”¨ï¼Œæœ¬è´¨éƒ½æ˜¯å‘é€æ¶ˆæ¯ï¼Œè€Œæ¶ˆæ¯çš„å‚æ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å€ŸåŠ©åº•å±‚æä¾›çš„ NSInvocation è¿™ç§é€šè¿‡æ–¹æ³•ç­¾åå‘æ¶ˆæ¯çš„ç±»ã€‚å¦‚æœäº†è§£è¿‡OCçš„æ¶ˆæ¯è½¬å‘æœºåˆ¶çš„åŒå­¦ï¼Œåº”è¯¥è§è¿‡è¿™ä¸ªç±»ã€‚å®ƒå…¶å®æ˜¯ä¸€ä¸ªè°ƒç”¨å™¨ï¼Œè®¾ç½®äº†æ–¹æ³•ç­¾åï¼Œå†è®¾ç½®äº†å‚æ•°å°±å¯ä»¥åƒæ™®é€šæ¶ˆæ¯å‘é€äº†ã€‚æ–¹æ³•åæˆ‘ä»¬å®šä¹‰æˆé…ç½®çš„ keyï¼Œå¤šå‚æ•°å°±å’ŒOCçš„æ–¹æ³•åä¸€æ ·ï¼Œç”¨â€:â€éš”å¼€ï¼Œç±»ä¼¼è¿™æ ·ï¼šsetImage:forStateï¼Œvalue æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚å®ç°ç”¨äº†YYKitçš„ä¸€äº›æ–¹æ³•ï¼Œåªæ˜¯å†™èµ·æ¥ç®€å•ä¸€äº›ï¼Œå†…éƒ¨å°±æ˜¯è°ƒç”¨runtimeçš„APIï¼Œè¿™æ ·å°±åšåˆ°äº†å¤šå‚æ•°çš„å…¼å®¹ã€‚ ç„¶è€Œå®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œå…¶å®å¾ˆéº»çƒ¦ã€‚æœ‰ä¸€ä¸ªæ¯”è¾ƒå·§å¦™çš„æ–¹å¼æ˜¯é€šè¿‡åˆ†ç±»å»æ·»åŠ å‚æ•°ã€‚æ¯”å¦‚ UIButton çš„ setImage:forStateï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ è¿™äº›åˆ†ç±»ï¼š123@property (nonatomic, strong) UIImage *jh_normalImg;@property (nonatomic, strong) UIImage *jh_hightlightedImg;... å®ç°æ˜¯è¿™æ ·ï¼š123456789101112131415- (void)setJh_normalImg:(UIImage *)jh_normalImg &#123; [self setImage:jh_normalImg forState:UIControlStateNormal];&#125;- (UIImage *)jh_normalImg &#123; return [self imageForState:UIControlStateNormal];&#125;- (void)setJh_hightlightedImg:(UIImage *)jh_hightlightedImg &#123; [self setImage:jh_hightlightedImg forState:UIControlStateHighlighted];&#125;- (UIImage *)jh_hightlightedImg &#123; return [self imageForState:UIControlStateHighlighted];&#125; é€šè¿‡åˆ†ç±»æŒ‡å®šå…¶å®ƒçš„å‚æ•°å°±å¯ä»¥åƒå•ä¸ªå‚æ•°é‚£æ ·ä½¿ç”¨äº†ã€‚ è‡³äºè‡ªåŠ¨è°ƒç”¨ï¼Œå…¶å®å¾ˆç®€å•ã€‚æˆ‘ä»¬ç»™ NSObject æ·»åŠ ä¸€ä¸ªåˆ†ç±»ï¼Œå®ç°å¦‚ä¸‹ï¼š12345678910111213141516171819202122@implementation NSObject (JHThemeManager)- (void)jh_updateTheme &#123; [self jh_updateThemeByKey:nil];&#125;- (void)jh_updateThemeByKey:(NSString *)key &#123; [self jh_updateThemeByKey:key block:nil];&#125;- (void)jh_updateThemeByKey:(NSString *)key block:(JHThemeCustomAction)block &#123; [self jh_updateThemeByKey:key theme:nil block:block];&#125;- (void)jh_updateThemeByKey:(NSString *)key theme:(NSString *)theme block:(JHThemeCustomAction)block &#123; [[JHThemeManager shareThemeManager] updateObjStyleWithCurrentTheme:self themeKey:key themeName:theme block:block];&#125;@end å…¶å®ä¹Ÿåªä¸è¿‡æ˜¯å¯¹ [[JHThemeManager shareThemeManager] updateObjStyleWithCurrentTheme:self themeKey:key themeName:theme block:block]; çš„å°è£…ï¼Œè¿™ä¸ªkey\bæ˜¯é…ç½®é‡Œçš„ keyï¼Œä¸€èˆ¬å®šä¹‰æˆç±»åã€‚theme å°±æ˜¯ä¸»é¢˜çš„åå­—ï¼Œä¼  nilçš„è¯å°±è·å–å½“å‰ä¸»é¢˜ã€‚ç„¶ååˆ›å»ºåœ¨ä½ çš„æ§åˆ¶å™¨åŸºç±»ã€å„ç§Viewçš„åŸºç±»ä¸­åˆé€‚çš„æ—¶æœºè°ƒç”¨ - (void)jh_updateTheme å°±ä¼šè‡ªåŠ¨åœ¨ç”Ÿæˆæ—¶è¿›è¡Œä¸»é¢˜è®¾ç½®ã€‚ é…ç½®æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š ç»“å°¾å®é™…ä½¿ç”¨ä¸­ï¼Œè¿™ä¸ªè½®å­å¹¶ä¸å¤ªæ–¹ä¾¿ã€‚ä¸€æ˜¯å› ä¸ºä»£ç éƒ½åœ¨ Plist é‡Œï¼Œ\bä¸èƒ½éå¸¸ç›´è§‚çš„çœ‹åˆ°æ ·å¼çš„è®¾ç½®è¿‡ç¨‹ã€‚è€Œä¸”è¦æ±‚keyä¸ç±»ä¸­çš„å±æ€§ï¼Œä»£ç ä¸€æ—¦æœ‰ä¿®æ”¹ï¼ŒPlistä¹Ÿéœ€è¦åšä¿®æ”¹ã€‚æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ Value å­—ç¬¦ä¸²çš„ä¹¦å†™ä¸èƒ½å‡ºé”™ï¼Œä½†è¿™æ˜¯ä¸å¤ªå®¹æ˜“çš„ï¼Œå› ä¸ºäººå°±æ˜¯ä¸ªBugã€‚ æ¯”è¾ƒå¥½çš„è§£å†³æ–¹å¼å°±æ˜¯å†™ä¸ªGUIå·¥å…·ï¼Œèƒ½æµè§ˆå’Œç”Ÿæˆé…ç½®ï¼Œè€Œä¸æ˜¯é€šè¿‡æ‰‹å·¥æ·»åŠ ã€‚","categories":[],"tags":[]},{"title":"UITableView+FDTemplateLayoutCellè®¡ç®—è¡Œé«˜ä¸€äº›ç¼ºé™·çš„è§£å†³æ–¹æ³•","slug":"UITableView-FDTemplateLayoutCellè®¡ç®—è¡Œé«˜ä¸€äº›ç¼ºé™·çš„è§£å†³æ–¹æ³•","date":"2018-08-25T18:27:38.000Z","updated":"2018-09-07T16:50:41.798Z","comments":true,"path":"2018/08/26/UITableView-FDTemplateLayoutCellè®¡ç®—è¡Œé«˜ä¸€äº›ç¼ºé™·çš„è§£å†³æ–¹æ³•/","link":"","permalink":"https://github.com/sunsx9316/2018/08/26/UITableView-FDTemplateLayoutCellè®¡ç®—è¡Œé«˜ä¸€äº›ç¼ºé™·çš„è§£å†³æ–¹æ³•/","excerpt":"","text":"å‰è¨€UITableViewåŠ¨æ€è¡Œé«˜ä¸€ç›´æ˜¯iOSçš„ä¸€ä¸ªç»å…¸é—®é¢˜ï¼Œåœ¨æ²¡æœ‰AutoLayoutçš„æ—¶ä»£ï¼Œåªèƒ½è‡ªå·±è®¡ç®—frameï¼Œç„¶åè¿”å›ç»™ä»£ç†ï¼Œéå¸¸ç—›è‹¦ã€‚åˆ°äº†AutoLayoutçš„æ—¶ä»£ï¼Œå¸ƒå±€å°±å˜å¾—ç®€å•å¤šäº†ï¼Œç”šè‡³äºé€šè¿‡ç³»ç»Ÿæä¾›çš„APIéƒ½èƒ½è‡ªåŠ¨è®¡ç®—å‡ºè¡Œé«˜ã€‚ UITableView+FDTemplateLayoutCellå°±æ˜¯sunnyxxå¤§å¤§çš„ä¸€ä¸ªè‡ªåŠ¨è®¡ç®—è¡Œé«˜çš„æ¡†æ¶ã€‚åªè¦å¸ƒå±€æ­£ç¡®ï¼Œé€šè¿‡å®ƒå¯ä»¥è‡ªåŠ¨è®¡ç®—å¹¶ç¼“å­˜è¡Œé«˜ï¼Œéå¸¸æ–¹ä¾¿ã€‚ä¸è¿‡åœ¨ä½¿ç”¨ä¸Šå‘ç°ä¸€äº›é—®é¢˜ï¼Œä¹Ÿå°è¯•å»è§£å†³äº†ã€‚ è¿‡ç¨‹éœ€æ±‚æ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªç±»ä¼¼å¾®åšçš„é¡µé¢ï¼Œåƒè¿™æ ·ï¼š è¿™åº”è¯¥æ˜¯æ¯”è¾ƒç»å…¸çš„å¸ƒå±€ï¼Œå†…å®¹å’Œå›¾ç‰‡éƒ½æ˜¯ä¸ç¡®å®šçš„ï¼Œè¡Œé«˜è¦æ ¹æ®å®é™…æ•°æ®è®¡ç®—ã€‚ä¹å®«æ ¼å®ç°æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œæ˜¯é€šè¿‡UICollectionViewå»å®ç°çš„ã€‚è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯UICollectionViewçš„é«˜åº¦å¯ä»¥é€šè¿‡å®ƒçš„collectionViewLayoutå¯¹è±¡è·å–ï¼Œå•¥éƒ½ä¸ç”¨ç®—ã€‚ä¸è¿‡ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼ŒUICollectionViewç»§æ‰¿è‡ªUIScrollViewï¼Œå®ƒçš„é«˜åº¦æ²¡æ³•æŒ‰ç…§å†…å®¹æ¥å…¨æ˜¾ç¤ºã€‚æ‰€ä»¥å³ä½¿å¸ƒå±€æ­£ç¡®ï¼Œé€šè¿‡AutoLayoutæ¥è®¡ç®—è¡Œé«˜ä¹Ÿæ˜¯ä¸åŒ…æ‹¬UICollectionViewçš„ï¼Œè¿™ä¸ªé—®é¢˜åŒæ ·åæ˜ åœ¨ä¸€äº›UIViewæ§ä»¶ä¸Šã€‚ è¿™å°±ååˆ†è›‹ç–¼äº†ï¼Œéš¾é“è¿˜è¦å›åˆ°æ‰‹ç®—frameçš„æ—¶ä»£ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæ˜¯æˆ‘è¿˜å†™å•¥åšå®¢ã€‚ æˆ‘è¯´ä¸‹è§£å†³çš„å‡ ä¸ªæ–¹æ³•ã€‚ æ–¹æ³•ä¸€ï¼ˆä¸æ¨èï¼‰ï¼šæ‰‹åŠ¨è®¾ç½®collectionViewçš„é«˜åº¦ï¼Œå¯ä»¥é€šè¿‡ä»£ç æˆ–è€…xibæ¥è®¾ç½®ï¼Œæˆ‘è¿™é‡Œæ˜¯xibã€‚ åƒè¿™æ ·æ‰‹åŠ¨æŒ‡å®šcollectionViewçš„é«˜åº¦ï¼Œç„¶åèµ‹å€¼æ•°æ®æºçš„æ—¶å€™æ›´æ–°collectionViewé«˜åº¦çº¦æŸå°±å¯ä»¥äº†ï¼Œè®©å®ƒçš„é«˜åº¦ç­‰äºå®ƒçš„contentSize.heightï¼Œè¿™æ ·å°±èƒ½å…¨éƒ¨æ˜¾ç¤ºäº†ï¼Œå…¶å®ƒUIViewæ§ä»¶ä¹Ÿèƒ½è¿™ä¹ˆè§£å†³ã€‚ä½†æ˜¯è¿™æ ·åœ¨è®¡ç®—è¡Œé«˜çš„æ—¶å€™ä¼šæŠ›å‡ºéå¸¸å¤šå¼‚å¸¸ï¼Œéƒ½æ˜¯çº¦æŸçš„é—®é¢˜ã€‚æˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼ŒæŒ‰ç†è¯´è®¡ç®—å†åï¼Œèµ‹å€¼åœ¨å‰ï¼Œåº”è¯¥ä¸ä¼šè¿™æ ·ã€‚è€Œä¸”æ˜¾ç¤ºä¼šå‡ºä¸€äº›é—®é¢˜ï¼Œè®¡ç®—çš„è¡Œé«˜ä¼šä¸æ­£ç¡®ï¼Œæœ‰äº›è®¸è¯¯å·®ã€‚ æ–¹æ³•äºŒï¼ˆæ¨èï¼‰ï¼šæ—¢ç„¶ä¸èƒ½é€šè¿‡è¿™ç§æ–¹å¼ï¼Œé‚£å°±ç»•ä¸ªå¼¯å§ã€‚å»æ‰é«˜åº¦çº¦æŸï¼Œè®¡ç®—å‡ºæ¥çš„é«˜å°±ä¸åŒ…å«collectionViewçš„é«˜ã€‚ç„¶åå†æ‰‹åŠ¨åŠ ä¸ŠcollectionViewçš„é«˜è¿”å›ç»™ä»£ç†ä¸å°±è¡Œäº†ã€‚ä¸è¿‡çœ‹ä¸‹UITableView+FDTemplateLayoutCellçš„æ‹“å±•æ–¹æ³•ï¼š12- (CGFloat)fd_heightForCellWithIdentifier:(NSString *)identifierconfiguration:(void (^)(id cell))configuration; åªæœ‰ä¸€ä¸ªè®¾ç½®cellæ•°æ®æºçš„blockï¼Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦æŠŠcellæ¢æˆæˆ‘ä»¬è‡ªå·±çš„ç±»ï¼Œç„¶åèµ‹å€¼æ¨¡å‹å°±è¡Œï¼Œç¼“å­˜ä¹‹ç±»çš„æ¡†æ¶ä¼šè‡ªåŠ¨å¤„ç†å¥½ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥è·å–åˆ°ç¼“å­˜é«˜åº¦ä¹‹åå†åŠ ä¸ŠcollectionViewçš„é«˜ï¼Œä½†æ˜¯è¿™æ ·è¿˜å«å•¥ç¼“å­˜ï¼Œç¼“å­˜å°±æ˜¯ä¸éœ€è¦è®¡ç®—ï¼Œç›´æ¥å–åˆ°å°±èƒ½ç”¨ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿè™½ç„¶å¯ä»¥é€šè¿‡Method Swizzlingé»‘é­”æ³•äº¤æ¢æ–¹æ³•å®ç°ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯æœ€ä¼˜æ–¹æ³•ï¼Œå¾€å¾€æ˜¯ä¸€äº›è«åå…¶å¦™çš„bugçš„æºæ³‰ï¼Œä½œä¸ºå¼€å‘è€…åº”è¯¥å°½é‡é¿å…è¿™ç§æ–¹å¼ã€‚æ‰€ä»¥æœ€åæˆ‘é€‰æ‹©äº†é€šè¿‡åˆ†ç±»çš„æ–¹å¼ã€‚æ€è·¯æ˜¯åœ¨æ¡†æ¶è®¡ç®—å®Œé«˜åº¦ä¹‹åé€šè¿‡blockè¿”å›ï¼Œæˆ‘ä»¬è‡ªè¡Œå¤„ç†è¡Œé«˜ï¼ŒåŠ åŠ å‡å‡ï¼Œç„¶åè¿”å›é«˜åº¦è®©æ¡†æ¶ç¼“å­˜ã€‚å…·ä½“ä»£ç ï¼šæˆ‘ä»¬å‚è€ƒä¸‹æ¡†æ¶è¿™ä¸ªæ–¹æ³•çš„å®ç°1234567891011121314151617181920- (CGFloat)fd_heightForCellWithIdentifier:(NSString *)identifiercacheByIndexPath:(NSIndexPath *)indexPathconfiguration:(void (^)(id cell))configuration &#123;if (!identifier || !indexPath) &#123;return 0;&#125;//å‘½ä¸­ç¼“å­˜if ([self.fd_indexPathHeightCache existsHeightAtIndexPath:indexPath]) &#123;[self fd_debugLog:[NSString stringWithFormat:@&quot;hit cache by index path[%@:%@] - %@&quot;, @(indexPath.section), @(indexPath.row), @([self.fd_indexPathHeightCache heightForIndexPath:indexPath])]];return [self.fd_indexPathHeightCache heightForIndexPath:indexPath];&#125;//è®¡ç®—è¡Œé«˜CGFloat height = [self fd_heightForCellWithIdentifier:identifier configuration:configuration];[self.fd_indexPathHeightCache cacheHeight:height byIndexPath:indexPath];[self fd_debugLog:[NSString stringWithFormat: @&quot;cached by index path[%@:%@] - %@&quot;, @(indexPath.section), @(indexPath.row), @(height)]];return height;&#125; å®ƒå…ˆä»ç¼“å­˜ä¸­å¯»æ‰¾è¡Œé«˜ï¼Œå‘½ä¸­ä¹‹åç›´æ¥è¿”å›ã€‚å¦åˆ™è®¡ç®—è¡Œé«˜ï¼Œå­˜å…¥ç¼“å­˜ï¼Œç„¶åè¿”å›ã€‚æ‰€ä»¥å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¤åˆ¶å®ƒçš„ä»£ç ã€‚å†™ä¸€ä¸ªå¸¦ç¼–è¾‘è¡Œé«˜åŠŸèƒ½çš„æ–¹æ³•ï¼š12345678910111213141516171819202122232425262728293031typedef CGFloat(^editCellHeightAction)(id cell, CGFloat cellHeight);- (CGFloat)jh_heightForCellWithIdentifier:(NSString *)identifiercacheByIndexPath:(NSIndexPath *)indexPathconfiguration:(void (^)(id cell))configurationeditAction:(editCellHeightAction)editAction &#123;if (!identifier || !indexPath) &#123;return 0;&#125;// Hit cacheif ([self.fd_indexPathHeightCache existsHeightAtIndexPath:indexPath]) &#123;[self fd_debugLog:[NSString stringWithFormat:@&quot;hit cache by index path[%@:%@] - %@&quot;, @(indexPath.section), @(indexPath.row), @([self.fd_indexPathHeightCache heightForIndexPath:indexPath])]];return [self.fd_indexPathHeightCache heightForIndexPath:indexPath];&#125;CGFloat height = 0;//è·å–ç¼“å­˜ä¸­çš„cellUITableViewCell *templateLayoutCell = [self fd_templateCellForReuseIdentifier:identifier];//è¿™é‡Œæ’å…¥ç¼–è¾‘è¡Œé«˜çš„ä»£ç if (editAction) &#123;height = editAction(templateLayoutCell, [self fd_heightForCellWithIdentifier:identifier configuration:configuration]);&#125;else &#123;height = [self fd_heightForCellWithIdentifier:identifier configuration:configuration];&#125;[self.fd_indexPathHeightCache cacheHeight:height byIndexPath:indexPath];[self fd_debugLog:[NSString stringWithFormat: @&quot;cached by index path[%@:%@] - %@&quot;, @(indexPath.section), @(indexPath.row), @(height)]];return height;&#125;&#125; ä½¿ç”¨èµ·æ¥åƒè¿™æ ·ï¼š1234567891011- (CGFloat)tableView:(UITableView *)tableViewheightForRowAtIndexPath:(NSIndexPath *)indexPath &#123;return [tableView jh_heightForCellWithIdentifier:@&quot;MineCell&quot; cacheByIndexPath:indexPath configuration:^(HeSquareCell *cell) &#123;//æ­£å¸¸èµ‹å€¼æ•°æ®æºcell.model = self.model;&#125; editAction:^CGFloat(MineCell *cell, CGFloat cellHeight) &#123;//cellHeightæ˜¯ä¸Šé¢çš„blockè®¡ç®—åå›è°ƒè¿‡æ¥çš„ æ‰€ä»¥ç›´æ¥åŠ ä¸Šé¢å¤–çš„é«˜åº¦å³å¯//å› ä¸ºç¼“å­˜çš„å…³ç³»è¿™é‡Œåªä¼šèµ°ä¸€æ¬¡ æ‰€ä»¥å¯ä»¥æ”¾å¿ƒå†™return cellHeight + [cell collectionViewHeightWithModel:self.model];&#125;];&#125; è¿™æ ·é«˜åº¦å°±èƒ½æ­£å¸¸æ˜¾ç¤ºäº†ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šæŠ›å¼‚å¸¸ï¼Œè¿˜èƒ½äº«å—æ¡†æ¶å¸¦æ¥çš„ä¾¿åˆ©ã€‚UITableView+FDTemplateLayoutCellçš„æ¥å£è®¾è®¡å¾ˆæ˜“äºæ‹“å±•ï¼Œæ‰€ä»¥å†™èµ·æ¥å¾ˆç®€å•ã€‚è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘å‘ç°åœ¨ä½¿ç”¨è¿™ä¸ªæ¡†æ¶çš„æ—¶å€™ï¼Œå¦‚æœ_tableView.tableFooterView = [[UIView alloc] init];è¿™å¥è¯å†™åœ¨æ³¨å†Œcellä¹‹å‰ï¼Œç¨‹åºä¼šcrashï¼Œä¸é€ ä¸ºå•¥ã€‚å¦‚æœå„ä½æœ‰æ›´å¥½çš„è§£å†³æ€è·¯æˆ–è€…æ–‡ä¸­æœ‰é”™è¯¯çš„åœ°æ–¹æ¬¢è¿ç»™æˆ‘ç•™è¨€ã€‚","categories":[],"tags":[]},{"title":"iOSçš„MobileVLCKitæ¡†æ¶æ’­æ”¾SMBåè®®è§†é¢‘çš„é—®é¢˜","slug":"iOSçš„MobileVLCKitæ¡†æ¶æ’­æ”¾SMBåè®®è§†é¢‘çš„é—®é¢˜","date":"2018-08-25T16:57:02.854Z","updated":"2018-08-26T10:46:38.209Z","comments":true,"path":"2018/08/26/iOSçš„MobileVLCKitæ¡†æ¶æ’­æ”¾SMBåè®®è§†é¢‘çš„é—®é¢˜/","link":"","permalink":"https://github.com/sunsx9316/2018/08/26/iOSçš„MobileVLCKitæ¡†æ¶æ’­æ”¾SMBåè®®è§†é¢‘çš„é—®é¢˜/","excerpt":"","text":"MobileVLCKitæ˜¯å¼€æºæ’­æ”¾å™¨VLCçš„iOSå¹³å°æ¡†æ¶ï¼Œåœ¨Mac OSä¸Šä¹Ÿæœ‰å¯¹åº”çš„VLCKitï¼Œæç›´æ’­çš„åŒå­¦åº”è¯¥ä¸é™Œç”Ÿï¼Œä¸è¿‡å®ƒå…¶å®è¿˜æ˜¯ä¸€æ¬¾å¼ºå¤§çš„æœ¬åœ°æ’­æ”¾å™¨ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰çš„ä¸»æµåª’ä½“æ ¼å¼ã€‚æœ€è¿‘åœ¨ç ”ç©¶appå¦‚ä½•æµè§ˆç”µè„‘ä¸Šæ–‡ä»¶ï¼Œç„¶åç›´æ¥åšåˆ°æ’­æ”¾è§†é¢‘çš„åŠŸèƒ½ã€‚ç”¨è¿‡iOSä¸Šçš„VLCæ’­æ”¾å™¨çš„ç«¥é‹åº”è¯¥çŸ¥é“ï¼Œä»–èƒ½åšåˆ°æ‰«ææœ¬åœ°ç«¯å£ï¼Œç„¶åé€šè¿‡è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æµè§ˆç”µè„‘çš„æ–‡ä»¶ï¼Œç‚¹å‡»è§†é¢‘å’ŒéŸ³é¢‘è¿˜èƒ½ç›´æ¥æ’­æ”¾ã€‚é€šè¿‡GoogleçŸ¥é“è¿™é‡Œç”¨åˆ°ä¸€ä¸ªå«SMBçš„åè®®ï¼Œä¸å…‰æ˜¯Mac OSä¸Šï¼ŒWindowså’ŒLinuxéƒ½æ”¯æŒè¿™ç§åè®®ã€‚åªè¦æœ¬åœ°å¼€å¯SMBçš„æ–‡ä»¶å…±äº«æœåŠ¡ï¼ŒåŒä¸€ä¸ªå±€åŸŸç½‘å†…çš„è®¾å¤‡å°±èƒ½é€šè¿‡å®ƒè®¿é—®ç”µè„‘ä¸Šçš„æ–‡ä»¶äº†ã€‚ä¸Šä¸Šgayhubå‘ç°äº†ä¸€ä¸ªSMBçš„iOSæ¡†æ¶ï¼Œå«TOSMBClientï¼Œå®ƒå°†ä¸€ä¸ªCè¯­è¨€çš„æ¡†æ¶å°è£…æˆäº†OCçš„æ¡†æ¶ã€‚è¿˜æ”¯æŒCocoaPodsï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚è€ŒMobileVLCKitåŸç”Ÿå°±æ”¯æŒSMBåè®®çš„åœ¨çº¿æ’­æ”¾ã€‚æ‰€ä»¥è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡TOSMBClientè·å–æ–‡ä»¶åˆ—è¡¨ï¼ŒVLCæ’­æ”¾ï¼Œæƒ³æ³•å¾ˆç¾å¥½ï¼Œä½†æ˜¯å®é™…å®ç°è¿˜æ˜¯è¸©äº†ä¸å°‘å‘ã€‚ å…ˆè¯´è¯´SMBçš„æ ¼å¼ï¼Œé•¿è¿™æ ·ï¼šsmb://{hostname}:{password}@{ip}/path æ¯”å¦‚æ¡Œé¢ä¸Šçš„ä¸€ä¸ªmp4æ–‡ä»¶å°±åº”è¯¥é•¿è¿™æ ·ï¼šsmb://xiaoming:123456@192.168.1.100/xiaoming/Desktop/233.mp4hostnameæ˜¯åŸŸåï¼Œä¸€èˆ¬åˆ›å»ºSMBå…±äº«åè®®çš„æ—¶å€™ï¼Œå°±éœ€è¦æŒ‡å®šã€‚passwordæ˜¯å¯†ç ï¼Œipæ˜¯æœåŠ¡å™¨çš„ipã€‚TOSMBClientæä¾›äº†ä¸€ä¸ªç™»å½•çš„ç±»å«TOSMBSessionï¼Œå¸¸ç”¨å±æ€§æ˜¯è¿™å‡ ä¸ª12345678//æœåŠ¡å™¨åŸŸå@property (nonatomic, copy) NSString *hostName;//æœåŠ¡å™¨ip@property (nonatomic, copy) NSString *ipAddress;//ç™»å½•çš„ç”¨æˆ·å@property (nonatomic, copy) NSString *userName;//ç™»å½•å¯†ç @property (nonatomic, copy) NSString *password; å…¶ä¸­åŸŸåå’Œipå¯ä»¥éƒ½è®¾ç½®ï¼Œä¹Ÿå¯ä»¥åªè®¾ç½®å…¶ä¸­ä¸€ä¸ªï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨æŸ¥æ‰¾ã€‚ç„¶åé€šè¿‡TOSMBSessionæä¾›çš„æ–¹æ³•123- (void)requestContentsOfDirectoryAtFilePath:(NSString *)pathsuccess:(void (^)(NSArray *files))successHandler error:(void (^)(NSError *))errorHandler; è·å–æ–‡ä»¶åˆ—è¡¨ï¼Œå¾ˆç®€å•ã€‚è¿”å›çš„filesæ˜¯TOSMBSessionFileç±»å‹ã€‚å®ƒåŒ…å«åŸºæœ¬çš„æ–‡ä»¶ä¿¡æ¯ï¼Œæ¯”å¦‚è·¯å¾„ï¼Œåç§°ï¼Œå¤§å°ã€‚æƒ³æ³•æŒºç¾å¥½ï¼Œæœ‰URLï¼Œç›´æ¥ç»™VLCæ’­æ”¾ä¸å°±è¡Œäº†ï¼Œç„¶åå°±ç¢°åˆ°äº†ç¬¬ä¸€ä¸ªå‘ã€‚TOSMBSessionFileæä¾›çš„è·¯å¾„åªæ˜¯smbæ ¼å¼çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå°±åªæœ‰pathéƒ¨åˆ†ï¼Œæ‰€ä»¥éœ€è¦æ’­æ”¾è¿˜å¾—è‡ªå·±æ‹¼æ¥æˆå®Œæ•´è·¯å¾„ã€‚ æ‹¼æ¥å¥½äº†ä¹‹åå°è¯•ä¸‹æ’­æ”¾ä¸ªæ–‡ä»¶ï¼Œæ²¡å¸¦ä¸­æ–‡çš„ï¼ŒæˆåŠŸäº†ï¼Œé«˜å…´ä¹‹ä½™æœ¬ç€ä¸¥è°¨çš„æ€åº¦è¯•äº†ä¸‹ä¸­æ–‡è·¯å¾„ï¼Œç»“æœå¤±è´¥äº†ã€‚NSURLåˆå§‹åŒ–å¦‚æœåŒ…å«æ ‡å‡†ASCALLä»¥å¤–çš„å­—ç¬¦ï¼Œä¼šè¿”å›nilï¼Œè¿™æ˜¯ç¬¬äºŒä¸ªå‘ã€‚ ä½œä¸ºç¨‹åºå‘˜ï¼Œå¾ˆè‡ªç„¶ä¼šæƒ³åˆ°ï¼ŒURLå¦‚æœå¸¦ä¸­æ–‡ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åšURLè½¬ç ã€‚\bæ‰€ä»¥å°è¯•ä¸‹è½¬ç ï¼Œå‘ç°è¿˜æ˜¯æ’­æ”¾å¤±è´¥ã€‚è¿™å°±è®©æˆ‘æ€€ç–‘äººç”Ÿäº†ï¼Œæ€ä¹ˆè‚¥äº‹ï¼Ÿè€Œä¸”è¿iOSä¸Šçš„VLCçš„appéƒ½æœ‰è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ç¬¬ä¸‰ä¸ªå‘ã€‚ é€šè¿‡æŸ¥æ‰¾APIæˆ‘å‘ç°æ’­æ”¾å™¨é™¤äº†é€šè¿‡NSURLåˆå§‹åŒ–ï¼Œè¿˜å¯ä»¥é€šè¿‡NSStringåˆå§‹åŒ–ï¼Œæˆ‘æƒ³ï¼ŒNSURLä¸è®©åŒ…å«ä¸­æ–‡ï¼ŒNSStringæ€»å¯ä»¥å§ã€‚ç»“æœè¿˜æ˜¯æ’­æ”¾å¤±è´¥ï¼Œç¥å¥‡çš„æ˜¯å³ä½¿ä¸åŒ…å«ä¸­æ–‡ï¼Œé€šè¿‡NSStringåˆå§‹åŒ–è¿˜æ˜¯å¤±è´¥ï¼Œä½†æ˜¯NSURLå°±å¯ä»¥ï¼Œè¿™æ˜¯ç¬¬å››ä¸ªå‘ã€‚ æ—¢ç„¶ä¸€å®šè¦å®ç°åŠŸèƒ½ï¼Œé‚£å°±å¾—ææ˜ç™½ä¸ºä»€ä¹ˆï¼Œè¿™æ—¶å€™å¼€æºçš„å¥½å¤„å°±ä½“ç°å‡ºæ¥äº†ï¼Œæˆ‘çœ‹äº†ä¸‹MobileVLCKitçš„æºç ï¼Œå®ƒçš„åª’ä½“ç±»VLCMediaæ˜¯è¿™ä¹ˆå†™çš„ï¼š123456789101112131415161718192021222324252627- (instancetype)initWithPath:(NSString *)aPath&#123; return [self initWithURL:[NSURL fileURLWithPath:aPath isDirectory:NO]];&#125;- (instancetype)initWithURL:(NSURL *)anURL&#123; if (self = [super init]) &#123; const char *url; VLCLibrary *library = [VLCLibrary sharedLibrary]; NSAssert(library.instance, @&quot;no library instance when creating media&quot;); if (([[anURL absoluteString] hasPrefix:@&quot;sftp://&quot;]) || ([[anURL absoluteString] hasPrefix:@&quot;smb://&quot;])) &#123; url = [[[anURL absoluteString] stringByRemovingPercentEncoding] UTF8String]; &#125; else &#123; url = [[anURL absoluteString] UTF8String]; &#125; p_md = libvlc_media_new_location(library.instance, url); _metaDictionary = [[NSMutableDictionary alloc] initWithCapacity:3]; [self initInternalMediaDescriptor]; &#125; return self;&#125; å¯ä»¥çœ‹åˆ°ï¼ŒinitWithPath:æ–¹æ³•æŠŠå­—ç¬¦ä¸²é€šè¿‡fileURLWithPath:isDirectory:æ–¹æ³•åˆå§‹åŒ–æˆURLäº†ï¼Œæ‰€ä»¥smbæ ¼å¼çš„å­—ç¬¦ä¸²è·¯å¾„é€šè¿‡è¿™ä¸ªæ–¹æ³•åˆå§‹åŒ–å¾—åˆ°çš„è·¯å¾„è‚¯å®šæ˜¯é”™çš„ï¼Œå› ä¸ºå®ƒä¸æ˜¯æ ‡å‡†çš„æœ¬åœ°è·¯å¾„ï¼Œè‡ªç„¶ä¼šå‡ºç°ä¸Šé¢ç¥å¥‡çš„æƒ…å†µã€‚ç„¶åçœ‹ä¸‹initWithURL:æ–¹æ³•ï¼Œifè¯­å¥åˆ¤æ–­å¦‚æœåŒ…å«smbå‰ç¼€ï¼Œåˆ™åšURLè§£ç æ“ä½œã€‚è¯´æ˜æˆ‘ä»¬çš„æƒ³æ³•æ˜¯æ­£ç¡®çš„ï¼Œç¡®å®åº”è¯¥å¯¹URLè¿›è¡Œç¼–ç ã€‚ä½†æ˜¯ï¼Œç»è¿‡æµ‹è¯•ç¼–ç è¿˜æ˜¯ä¸è¡Œï¼Œè¿™ç§æƒ…å†µå°±å¾ˆè´¹è§£äº†ã€‚åˆ°ç°åœ¨æˆ‘è¿˜ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œå› ä¸ºå®ƒè‡ªå·±çš„APPéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚ä¸è¿‡ä¹‹åå¶ç„¶å‘ç°äº†è§£å†³æ–¹æ³•ï¼Œå¾ˆç®€å•æŠŠURLç¼–ç ä¸¤æ¬¡å³å¯ï¼ï¼æŠŠURLç¼–ç ä¸¤æ¬¡å³å¯ï¼ï¼æŠŠURLç¼–ç ä¸¤æ¬¡å³å¯ï¼ï¼ é‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼Œç¼–ç ä¸¤æ¬¡ä¹‹åæ¡†æ¶ä¼šå¯¹URLè§£ç ä¸€æ¬¡ï¼Œæ‰€ä»¥å¾—åˆ°çš„URLå®é™…æ˜¯ç¼–ç äº†ä¸€æ¬¡çš„å†…å®¹ï¼Œè¿™æ ·å°±èƒ½æ’­æ”¾äº†ï¼Œéå¸¸ç¥å¥‡ï¼Œè¿™æ˜¯ç¬¬äº”ä¸ªå‘ã€‚åœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸‹ç»™éœ€è¦çš„ç«¥é‹ã€‚ æ³¨æ„äº‹é¡¹åº”è¯¥åªå¯¹pathã€hostnameã€passwordéƒ¨åˆ†åšURLä¸¤æ¬¡ç¼–ç ï¼Œsmb://å‰ç¼€ä¸éœ€è¦ï¼Œå¦åˆ™æ’­æ”¾å™¨ä¼šæ— æ³•è¯†åˆ«ã€‚ 2017.10.16æ—¥æ›´æ–° å¦‚æœå‘ç°æ‹¼æ¥ä¹‹åè¿˜æ˜¯æ²¡æ³•æ’­æ”¾ï¼Œå¤§éƒ¨åˆ†æ˜¯å› ä¸ºVLCçš„ç‰ˆæœ¬æ¯”è¾ƒæ—§çš„å…³ç³»ï¼Œcocoapodsé‡Œæœ‰æœ€æ–°çš„unstableç‰ˆæœ¬ï¼Œç”¨è¿™ä¸ªï¼Œä¸è¿‡è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæ˜¯æœ€ä¸ç¨³å®šçš„ã€‚ 2018.7.8æ—¥æ›´æ–° æ–‡ç« Demo","categories":[],"tags":[]},{"title":"æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢","slug":"ç¬¬ä¸€ç¯‡åšå®¢","date":"2018-08-25T16:28:22.314Z","updated":"2018-08-25T16:55:41.870Z","comments":true,"path":"2018/08/26/ç¬¬ä¸€ç¯‡åšå®¢/","link":"","permalink":"https://github.com/sunsx9316/2018/08/26/ç¬¬ä¸€ç¯‡åšå®¢/","excerpt":"","text":"\bæœ€è¿‘å†³å®šè¦å¼€å§‹å†™åšå®¢äº†ï¼Œæ‰“ç®—å…ˆæŠŠç®€ä¹¦çš„æ¬è¿‡æ¥ã€‚è¿™ä¸€å¹´æ¥è§¦äº†å¾ˆå¤šä¸œè¥¿ï¼Œè§‰å¾—éœ€è¦è®°å½•ä¸‹æ¥ï¼Œè‡ªå·±æ­åšå®¢è¿˜è›®æœ‰æ„æ€çš„:)","categories":[],"tags":[]}]}